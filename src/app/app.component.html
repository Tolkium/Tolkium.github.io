<div class="app-container">
  <!-- Background Animation - Persistent across all routes -->
  <div class="fixed inset-0 z-0">
    <app-background-animation></app-background-animation>
  </div>

  <app-side-menu/>

  <!-- Desktop Search - Full width minus menu -->
  @if (!(isMobile$ | async)) {
    <app-search />
  }

  <!-- Desktop Dark Mode Toggle - Fixed position, persistent across routes -->
  @if (!(isMobile$ | async)) {
    <app-dark-mode-toggle />
  }

  <!-- Performance Monitor Overlay -->
  @if (showPerformanceMonitor$ | async) {
    <app-performance-monitor />
  }

  <main class="main-content" [class.menu-collapsed]="isMenuCollapsed$ | async" [class.menu-expanded]="(isMenuCollapsed$ | async) === false">
    <router-outlet />
  </main>
</div>
