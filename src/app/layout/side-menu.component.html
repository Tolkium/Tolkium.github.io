<div class="menu-overlay"
     [class.active]="!isCollapsed && isMobile"
     (click)="toggleCollapse()">
</div>

<div class="menu-container"
     [class.mobile-open]="!isCollapsed && isMobile"
     [style.width]="isCollapsed ? '3rem' : (isMobile ? '100vw' : '16rem')">
  <!-- Header -->
  <div class="menu-header">
    <h1 class="menu-title" [class.hidden]="isCollapsed">
      Menu
    </h1>
    <button class="menu-toggle" (click)="toggleCollapse()">
      @if (isCollapsed) {
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 24 24">
          <path fill="currentColor" d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
        </svg>
      } @else {
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 24 24">
          <path fill="currentColor" d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
        </svg>
      }
    </button>
  </div>

  <!-- Menu Sections -->
  <div class="menu-sections">
    @for (section of menuSections; track section.title) {
    <div class="menu-section">
      <h2 class="section-title" [class.centered]="isCollapsed">
        {{ isCollapsed ? "••" : section.title }}
      </h2>
      <div class="section-items">
        @for (item of section.items; track item.label) {
        <app-side-menu-item
          [item]="item"
          [isCollapsed]="isCollapsed"
          (menuItemClick)="onMenuItemClick()" />
        }
      </div>
    </div>
    }
  </div>
</div>
